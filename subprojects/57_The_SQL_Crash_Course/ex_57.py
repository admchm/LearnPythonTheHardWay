# commands:

# Loading a csv data file into sqlite3:
# sqlite3 euro.sqlite3

# sqlite> .import --csv "fixed.csv" euro
# sqlite> select count(*) from euro;
# 6331
# sqlite>

# Printing available rows:
# sqlite> .schema euro

# Backing Up Your Database:
# sqlite3 euro.sqlite3 ".backup euro_backup.sqlite3"
# for calling this command the sqlite3 shouldn't be running

# Recovering db:
#cp euro_backup.sqlite3 euro.sqlite3

# For getting help:
# .help

# Create, Read, Update, Delete
# SELECT:

# SELECT date, PLN
#   FROM euro
#   WHERE date(date) > date('2023-01-01');

# 2024-07-08|4.2778
# 2024-07-05|4.2798
# 2024-07-04|4.2918
# 2024-07-03|4.3018
# 2024-07-02|4.325
# 2024-07-01|4.3008
# 2024-06-28|4.309
# 2024-06-27|4.3188
# 2024-06-26|4.3075
# 2024-06-25|4.2995
# 2024-06-24|4.3003
# 2024-06-21|4.322
# 2024-06-20|4.321
# 2024-06-19|4.33
# 2024-06-18|4.3503
# 2024-06-17|4.36
# 2024-06-14|4.3733
# 2024-06-13|4.3473
# 2024-06-12|4.3385
# 2024-06-11|4.3413
# 2024-06-10|4.324
# 2024-06-07|4.288
# 2024-06-06|4.3015
# 2024-06-05|4.3045
# 2024-06-04|4.3005
# 2024-06-03|4.2815
# 2024-05-31|4.2645
# 2024-05-30|4.2848
# 2024-05-29|4.264
# 2024-05-28|4.2483
# 2024-05-27|4.2553
# 2024-05-24|4.2553
# 2024-05-23|4.263
# 2024-05-22|4.2686
# 2024-05-21|4.2553
# 2024-05-20|4.2533
# 2024-05-17|4.265
# 2024-05-16|4.2648
# 2024-05-15|4.269
# 2024-05-14|4.2695
# 2024-05-13|4.286
# 2024-05-10|4.2968
# 2024-05-09|4.292
# 2024-05-08|4.3075
# 2024-05-07|4.3138
# 2024-05-06|4.3185
# 2024-05-03|4.329
# 2024-05-02|4.3278
# 2024-04-30|4.3178
# 2024-04-29|4.3255
# 2024-04-26|4.3205
# 2024-04-25|4.3165
# 2024-04-24|4.3193
# 2024-04-23|4.3158
# 2024-04-22|4.3188
# 2024-04-19|4.33
# 2024-04-18|4.3255
# 2024-04-17|4.3508
# 2024-04-16|4.3435
# 2024-04-15|4.2938
# 2024-04-12|4.2603
# 2024-04-11|4.257
# 2024-04-10|4.2563
# 2024-04-09|4.2565
# 2024-04-08|4.2773
# 2024-04-05|4.2835
# 2024-04-04|4.2955
# 2024-04-03|4.2968
# 2024-04-02|4.2938
# 2024-03-28|4.3123
# 2024-03-27|4.3148
# 2024-03-26|4.3093
# 2024-03-25|4.3078
# 2024-03-22|4.317
# 2024-03-21|4.3028
# 2024-03-20|4.3248
# 2024-03-19|4.321
# 2024-03-18|4.3113
# 2024-03-15|4.2953
# 2024-03-14|4.2935
# 2024-03-13|4.286
# 2024-03-12|4.2865
# 2024-03-11|4.2805
# 2024-03-08|4.3065
# 2024-03-07|4.302
# 2024-03-06|4.3018
# 2024-03-05|4.3248
# 2024-03-04|4.322
# 2024-03-01|4.318
# 2024-02-29|4.3208
# 2024-02-28|4.2965
# 2024-02-27|4.3153
# 2024-02-26|4.3053
# 2024-02-23|4.3118
# 2024-02-22|4.3158
# 2024-02-21|4.3165
# 2024-02-20|4.3248
# 2024-02-19|4.3265
# 2024-02-16|4.34
# 2024-02-15|4.344
# 2024-02-14|4.3415
# 2024-02-13|4.3198
# 2024-02-12|4.3198
# 2024-02-09|4.3206
# 2024-02-08|4.3375
# 2024-02-07|4.3453
# 2024-02-06|4.3463
# 2024-02-05|4.3343
# 2024-02-02|4.3175
# 2024-02-01|4.3373
# 2024-01-31|4.333
# 2024-01-30|4.3618
# 2024-01-29|4.366
# 2024-01-26|4.3775
# 2024-01-25|4.3765
# 2024-01-24|4.3725
# 2024-01-23|4.383
# 2024-01-22|4.364
# 2024-01-19|4.3618
# 2024-01-18|4.399
# 2024-01-17|4.3993
# 2024-01-16|4.387
# 2024-01-15|4.3625
# 2024-01-12|4.3628
# 2024-01-11|4.349
# 2024-01-10|4.341
# 2024-01-09|4.3448
# 2024-01-08|4.3465
# 2024-01-05|4.3568
# 2024-01-04|4.346
# 2024-01-03|4.3638
# 2024-01-02|4.3708
# 2023-12-29|4.3395
# 2023-12-28|4.3355
# 2023-12-27|4.3308
# 2023-12-22|4.342
# 2023-12-21|4.3403
# 2023-12-20|4.3413
# 2023-12-19|4.3373
# 2023-12-18|4.345
# 2023-12-15|4.309
# 2023-12-14|4.3123
# 2023-12-13|4.326
# 2023-12-12|4.3393
# 2023-12-11|4.3303
# 2023-12-08|4.3318
# 2023-12-07|4.3313
# 2023-12-06|4.3403
# 2023-12-05|4.3225
# 2023-12-04|4.3393
# 2023-12-01|4.343
# 2023-11-30|4.349
# 2023-11-29|4.3355
# 2023-11-28|4.3473
# 2023-11-27|4.359
# 2023-11-24|4.3638
# 2023-11-23|4.3655
# 2023-11-22|4.3625
# 2023-11-21|4.3625
# 2023-11-20|4.369
# 2023-11-17|4.377
# 2023-11-16|4.373
# 2023-11-15|4.397
# 2023-11-14|4.4211
# 2023-11-13|4.428
# 2023-11-10|4.4243
# 2023-11-09|4.449
# 2023-11-08|4.4655
# 2023-11-07|4.4618
# 2023-11-06|4.467
# 2023-11-03|4.45
# 2023-11-02|4.4495
# 2023-11-01|4.4658
# 2023-10-31|4.4405
# 2023-10-30|4.4565
# 2023-10-27|4.4715
# 2023-10-26|4.4673
# 2023-10-25|4.4825
# 2023-10-24|4.463
# 2023-10-23|4.459
# 2023-10-20|4.4653
# 2023-10-19|4.45
# 2023-10-18|4.441
# 2023-10-17|4.4273
# 2023-10-16|4.4733
# 2023-10-13|4.535
# 2023-10-12|4.5291
# 2023-10-11|4.5158
# 2023-10-10|4.5565
# 2023-10-09|4.5798
# 2023-10-06|4.5983
# 2023-10-05|4.5988
# 2023-10-04|4.6278
# 2023-10-03|4.623
# 2023-10-02|4.6123
# 2023-09-29|4.6283
# 2023-09-28|4.6343
# 2023-09-27|4.625
# 2023-09-26|4.6093
# 2023-09-25|4.5893
# 2023-09-22|4.5925
# 2023-09-21|4.627
# 2023-09-20|4.6403
# 2023-09-19|4.6548
# 2023-09-18|4.6383
# 2023-09-15|4.6308
# 2023-09-14|4.6275
# 2023-09-13|4.6243
# 2023-09-12|4.66
# 2023-09-11|4.6438
# 2023-09-08|4.6213
# 2023-09-07|4.5883
# 2023-09-06|4.501
# 2023-09-05|4.489
# 2023-09-04|4.4663
# 2023-09-01|4.4685
# 2023-08-31|4.4673
# 2023-08-30|4.4728
# 2023-08-29|4.472
# 2023-08-28|4.4735
# 2023-08-25|4.469
# 2023-08-24|4.4768
# 2023-08-23|4.4773
# 2023-08-22|4.4643
# 2023-08-21|4.4785
# 2023-08-18|4.4698
# 2023-08-17|4.4718
# 2023-08-16|4.4528
# 2023-08-15|4.4888
# 2023-08-14|4.4395
# 2023-08-11|4.4368
# 2023-08-10|4.4548
# 2023-08-09|4.467
# 2023-08-08|4.45
# 2023-08-07|4.4138
# 2023-08-04|4.4485
# 2023-08-03|4.4598
# 2023-08-02|4.4475
# 2023-08-01|4.4303
# 2023-07-31|4.407
# 2023-07-28|4.4113
# 2023-07-27|4.4265
# 2023-07-26|4.42
# 2023-07-25|4.4263
# 2023-07-24|4.446
# 2023-07-21|4.4583
# 2023-07-20|4.4513
# 2023-07-19|4.4508
# 2023-07-18|4.4458
# 2023-07-17|4.4508
# 2023-07-14|4.449
# 2023-07-13|4.4323
# 2023-07-12|4.4473
# 2023-07-11|4.4563
# 2023-07-10|4.4508
# 2023-07-07|4.4838
# 2023-07-06|4.4753
# 2023-07-05|4.4558
# 2023-07-04|4.4215
# 2023-07-03|4.4385
# 2023-06-30|4.4388
# 2023-06-29|4.4485
# 2023-06-28|4.4763
# 2023-06-27|4.4283
# 2023-06-26|4.4363
# 2023-06-23|4.4238
# 2023-06-22|4.4253
# 2023-06-21|4.4328
# 2023-06-20|4.4463
# 2023-06-19|4.457
# 2023-06-16|4.4728
# 2023-06-15|4.4693
# 2023-06-14|4.4553
# 2023-06-13|4.475
# 2023-06-12|4.4395
# 2023-06-09|4.4605
# 2023-06-08|4.4788
# 2023-06-07|4.4695
# 2023-06-06|4.4915
# 2023-06-05|4.4735
# 2023-06-02|4.4975
# 2023-06-01|4.541
# 2023-05-31|4.5368
# 2023-05-30|4.5235
# 2023-05-29|4.52
# 2023-05-26|4.5354
# 2023-05-25|4.511
# 2023-05-24|4.49
# 2023-05-23|4.5018
# 2023-05-22|4.5133
# 2023-05-19|4.5205
# 2023-05-18|4.543
# 2023-05-17|4.507
# 2023-05-16|4.4865
# 2023-05-15|4.5078
# 2023-05-12|4.5343
# 2023-05-11|4.5238
# 2023-05-10|4.5363
# 2023-05-09|4.5723
# 2023-05-08|4.5693
# 2023-05-05|4.577
# 2023-05-04|4.5905
# 2023-05-03|4.582
# 2023-05-02|4.5758
# 2023-04-28|4.5815
# 2023-04-27|4.59
# 2023-04-26|4.5928
# 2023-04-25|4.59
# 2023-04-24|4.6055
# 2023-04-21|4.6108
# 2023-04-20|4.611
# 2023-04-19|4.6238
# 2023-04-18|4.618
# 2023-04-17|4.6288
# 2023-04-14|4.6435
# 2023-04-13|4.632
# 2023-04-12|4.6631
# 2023-04-11|4.669
# 2023-04-06|4.6863
# 2023-04-05|4.6818
# 2023-04-04|4.6718
# 2023-04-03|4.6765
# 2023-03-31|4.67
# 2023-03-30|4.6813
# 2023-03-29|4.687
# 2023-03-28|4.6815
# 2023-03-27|4.6855
# 2023-03-24|4.6865
# 2023-03-23|4.6868
# 2023-03-22|4.6835
# 2023-03-21|4.6998
# 2023-03-20|4.7045
# 2023-03-17|4.7045
# 2023-03-16|4.6963
# 2023-03-15|4.7
# 2023-03-14|4.6878
# 2023-03-13|4.6944
# 2023-03-10|4.6815
# 2023-03-09|4.6785
# 2023-03-08|4.6753
# 2023-03-07|4.6898
# 2023-03-06|4.709
# 2023-03-03|4.708
# 2023-03-02|4.689
# 2023-03-01|4.6745
# 2023-02-28|4.7125
# 2023-02-27|4.716
# 2023-02-24|4.7205
# 2023-02-23|4.7438
# 2023-02-22|4.7443
# 2023-02-21|4.7478
# 2023-02-20|4.7435
# 2023-02-17|4.7773
# 2023-02-16|4.7765
# 2023-02-15|4.76
# 2023-02-14|4.7623
# 2023-02-13|4.7875
# 2023-02-10|4.781
# 2023-02-09|4.7388
# 2023-02-08|4.7385
# 2023-02-07|4.7565
# 2023-02-06|4.7228
# 2023-02-03|4.692
# 2023-02-02|4.7015
# 2023-02-01|4.7075
# 2023-01-31|4.709
# 2023-01-30|4.7103
# 2023-01-27|4.7085
# 2023-01-26|4.7195
# 2023-01-25|4.7158
# 2023-01-24|4.713
# 2023-01-23|4.7113
# 2023-01-20|4.71
# 2023-01-19|4.7063
# 2023-01-18|4.6983
# 2023-01-17|4.6958
# 2023-01-16|4.6935
# 2023-01-13|4.6888
# 2023-01-12|4.692
# 2023-01-11|4.6819
# 2023-01-10|4.695
# 2023-01-09|4.6963
# 2023-01-06|4.695
# 2023-01-05|4.67
# 2023-01-04|4.6685
# 2023-01-03|4.6831
# 2023-01-02|4.6813

#INSERT:

# INSERT INTO euro (date, PLN)
#   VALUES (date('now'), 4.260);

# INSERT INTO euro (date, PLN)
#   VALUES (date('now', '+1 day'), 4.1);

# Getting the data for specific day
# SELECT * FROM euro WHERE date(date) > date('now', '-1 day');

# 2024-07-10|||||||||||||4.26||||||||||||||||||||||||||||
# 2024-07-11|||||||||||||4.1||||||||||||||||||||||||||||

# UPDATE:
# UPDATE euro
#   SET USD=100, date='2048-01-01'
#   WHERE
#   date(date) > date('2023-01-01')
#     AND USD=1.0808;


# DELETE and Transactions:
# DELETE FROM euro WHERE USD=1.1215;

# https://www.sqlite.org/lang_transaction.html

# SELECT count(*) FROM euro;
# BEGIN TRANSACTION;
# DELETE FROM euro;
# ROLLBACK TRANSACTION;

# SELECT count(*) FROM euro;

# approving the changes:
# COMMIT TRANSACTION

# Math, Aggregates, and GROUP BY:
# SELECT date, USD from euro GROUP BY date;

# it doesn't seem to work, so the next example will be correct:
# SELECT count(date),
#     date, avg(USD),
#     min(USD), max(USD)
#   FROM euro
#   GROUP BY
#     date(date, "start of month");


# correct example, rewritten:
# AS - alias

# SELECT count(date) AS count_dates,
#        date(date, 'start of month') AS month_start,
#        avg(USD) AS avg_usd,
#        min(USD) AS min_usd,
#        max(USD) AS max_usd
# FROM euro
# GROUP BY date(date, 'start of month');

# ORDER BY:
# SELECT date, PLN FROM euro
# ORDER BY PLN;
